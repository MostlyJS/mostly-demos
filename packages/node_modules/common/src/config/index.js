import path from 'path';
import { extend } from 'lodash';

const env = process.env.NODE_ENV || 'development';

const configPath = path.join(__dirname, 'environments', env);

import config from './config.default';

const envConfig = require(configPath);

extend(config, envConfig, {
  NODE_ENV: env,
  env: {
    isDevelopment: function() {
      return env === 'development';
    },
    isTest: function() {
      return env === 'test';
    },
    isStaging: function() {
      return env === 'staging';
    },
    isProduction: function() {
      return env === 'production';
    }
  }
});

export { config as default };
