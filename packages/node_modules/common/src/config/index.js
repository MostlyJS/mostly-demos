const path = require('path');

const env = process.env.NODE_ENV || 'development';

const configPath = path.join(__dirname, 'environments', env);

const config = require('./config.default');

const envConfig = require(configPath);

Object.assign(config, envConfig, {
  NODE_ENV: env,
  env: {
    isDevelopment: function() {
      return env === 'development';
    },
    isTest: function() {
      return env === 'test';
    },
    isStaging: function() {
      return env === 'staging';
    },
    isProduction: function() {
      return env === 'production';
    }
  }
});

module.exports = config;
